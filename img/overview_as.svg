<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="254.4px" preserveAspectRatio="none" style="width:428px;height:254px;" version="1.1" viewBox="0 0 428 254" width="428.4px" zoomAndPan="magnify"><defs><filter height="300%" id="f1017lc27sw8ok" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4" dy="2.4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="247.5938" style="stroke:#A80036;stroke-width:0.6;" width="359.1" x="66" y="3.6"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="126.6" x="182.25" y="10.8401">Authorization Server Domain</text><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="32.4" x2="32.4" y1="65.0578" y2="199.4156"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="114" x2="114" y1="65.0578" y2="199.4156"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="329.7" x2="329.7" y1="65.0578" y2="199.4156"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="391.5" x2="391.5" y1="65.0578" y2="199.4156"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="55.8" x="3" y="63.0768">Relying Party</text><ellipse cx="32.7" cy="21.0797" fill="#FEFECE" filter="url(#f1017lc27sw8ok)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M32.7,25.8797 L32.7,42.0797 M24.9,30.6797 L40.5,30.6797 M32.7,42.0797 L24.9,51.0797 M32.7,42.0797 L40.5,51.0797 " fill="none" filter="url(#f1017lc27sw8ok)" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="55.8" x="3" y="206.6127">Relying Party</text><ellipse cx="32.7" cy="214.5938" fill="#FEFECE" filter="url(#f1017lc27sw8ok)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M32.7,219.3937 L32.7,235.5938 M24.9,224.1938 L40.5,224.1938 M32.7,235.5938 L24.9,244.5938 M32.7,235.5938 L40.5,244.5938 " fill="none" filter="url(#f1017lc27sw8ok)" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="87.6" x="68.4" y="63.0768">Authorization Server</text><ellipse cx="114" cy="21.0797" fill="#FEFECE" filter="url(#f1017lc27sw8ok)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M114,25.8797 L114,42.0797 M106.2,30.6797 L121.8,30.6797 M114,42.0797 L106.2,51.0797 M114,42.0797 L121.8,51.0797 " fill="none" filter="url(#f1017lc27sw8ok)" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="87.6" x="68.4" y="206.6127">Authorization Server</text><ellipse cx="114" cy="214.5938" fill="#FEFECE" filter="url(#f1017lc27sw8ok)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M114,219.3937 L114,235.5938 M106.2,224.1938 L121.8,224.1938 M114,235.5938 L106.2,244.5938 M114,235.5938 L121.8,244.5938 " fill="none" filter="url(#f1017lc27sw8ok)" style="stroke:#A80036;stroke-width:1.2;"/><rect fill="#FEFECE" filter="url(#f1017lc27sw8ok)" height="18.1781" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="46.2" x="305.7" y="43.8797"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="37.8" x="309.9" y="55.8768">Vault API</text><rect fill="#FEFECE" filter="url(#f1017lc27sw8ok)" height="18.1781" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="46.2" x="305.7" y="198.8156"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="37.8" x="309.9" y="210.8127">Vault API</text><rect fill="#FEFECE" filter="url(#f1017lc27sw8ok)" height="18.1781" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="60" x="360.3" y="43.8797"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="51.6" x="364.5" y="55.8768">Comparator</text><rect fill="#FEFECE" filter="url(#f1017lc27sw8ok)" height="18.1781" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="60" x="360.3" y="198.8156"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="51.6" x="364.5" y="210.8127">Comparator</text><polygon fill="#A80036" points="106.8,81.3375,112.8,83.7375,106.8,86.1375,109.2,83.7375" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="32.7" x2="110.4" y1="83.7375" y2="83.7375"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="60.6" x="36.9" y="80.6979">OAuth2 request</text><polygon fill="#A80036" points="322.8,98.8172,328.8,101.2172,322.8,103.6172,325.2,101.2172" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="114" x2="326.4" y1="101.2172" y2="101.2172"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="201.6" x="118.2" y="98.1776">authorize comparator to read a document in a vault</text><polygon fill="#A80036" points="384.3,116.2969,390.3,118.6969,384.3,121.0969,386.7,118.6969" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="114" x2="387.9" y1="118.6969" y2="118.6969"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="187.8" x="118.2" y="115.6573">authorize relying party to perform a comparison</text><polygon fill="#A80036" points="120.6,133.7766,114.6,136.1766,120.6,138.5766,118.2,136.1766" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="117" x2="390.9" y1="136.1766" y2="136.1766"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="52.8" x="124.2" y="133.137">access_token</text><polygon fill="#A80036" points="39.3,151.2563,33.3,153.6563,39.3,156.0563,36.9,153.6563" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="35.7" x2="113.4" y1="153.6563" y2="153.6563"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="49.8" x="42.9" y="150.6167">OAuth2 code</text><polygon fill="#A80036" points="106.8,168.7359,112.8,171.1359,106.8,173.5359,109.2,171.1359" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="32.7" x2="110.4" y1="171.1359" y2="171.1359"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="18.6" x="36.9" y="168.0964">code</text><polygon fill="#A80036" points="39.3,186.2156,33.3,188.6156,39.3,191.0156,36.9,188.6156" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="35.7" x2="113.4" y1="188.6156" y2="188.6156"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="52.8" x="42.9" y="185.5761">access_token</text><!--MD5=[5455f71e36287408dabb23ceaa35c50b]
@startuml

actor "Relying Party" as rp

box "Authorization Server Domain"
  actor "Authorization Server" as as
  participant "Vault API" as vapi
  participant Comparator as comp
end box

rp -> as : OAuth2 request
as -> vapi : authorize comparator to read a document in a vault
as -> comp: authorize relying party to perform a comparison
comp -> as : access_token
as -> rp : OAuth2 code
rp -> as : code
as -> rp : access_token

@enduml

PlantUML version 1.2021.00(Sun Jan 10 05:25:05 EST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: CA
--></g></svg>